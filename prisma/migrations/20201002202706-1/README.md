# Migration `20201002202706-1`

This migration has been generated by Breno Augusto at 10/2/2020, 5:27:06 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `User` (
`id` int  NOT NULL ,
`name` varchar(191)  NOT NULL ,
`addressId` int  NOT NULL ,
`companyId` int  NOT NULL ,
`contactId` int  NOT NULL ,
UNIQUE INDEX `User_addressId_unique`(`addressId`),
UNIQUE INDEX `User_companyId_unique`(`companyId`),
UNIQUE INDEX `User_contactId_unique`(`contactId`),
PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `User` ADD FOREIGN KEY (`addressId`) REFERENCES `default`.`Address`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `User` ADD FOREIGN KEY (`companyId`) REFERENCES `default`.`Company`(`id`) ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE `User` ADD FOREIGN KEY (`contactId`) REFERENCES `default`.`Contact`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201002202706-1
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,61 @@
+// This is your Prisma schema file,
+// learn more about it in the docs: https://pris.ly/d/prisma-schema
+
+datasource db {
+  provider = "mysql"
+  url = "***"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model User {
+  id        Int    @id
+  name      String
+  addressId Int
+  companyId Int
+  contactId Int
+
+  Address Address @relation(fields: [addressId], references: [id])
+  Company Company @relation(fields: [companyId], references: [id])
+  Contact Contact @relation(fields: [contactId], references: [id])
+}
+
+model Contact {
+  id      Int    @id @default(autoincrement())
+  email   String @unique
+  phone   String
+  website String
+
+  User User
+}
+
+model Address {
+  id      Int    @id @default(autoincrement())
+  street  String
+  suite   String
+  city    String
+  zipcode String
+  geoId   Int
+
+  Geo  Geo  @relation(fields: [geoId], references: [id])
+  User User
+}
+
+model Geo {
+  id  Int    @id @default(autoincrement())
+  lat String
+  lng String
+
+  Address Address
+}
+
+model Company {
+  id          Int    @id @default(autoincrement())
+  name        String
+  catchPhrase String
+  bs          String
+
+  User User
+}
```


